{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["\nexport const createGalleryCard = data => {\n    const { largeImageURL, webformatURL, tags, likes, views, comments, downloads } = data;\n    return `\n    <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\" />\n        </a>\n    <ul class=\"item-info\">\n        <li class=\"item-likes\">\n            <p class=\"title\">Likes</p>\n            <p class=\"value\">${likes}</p>\n        </li>\n        <li class=\"item-views\">\n            <p class=\"title\">Views</p>\n            <p class=\"value\">${views}</p>\n        </li>\n        <li class=\"item-comments\">\n            <p class=\"title\">Comments</p>\n            <p class=\"value\">${comments}</p>\n        </li>\n        <li class=\"item-downloads\">\n            <p class=\"title\">Downloads</p>\n            <p class=\"value\">${downloads}</p>\n        </li>\n    </ul>\n    </li>`;\n  };\n  ","import axios from \"axios\";\n\n\nconst  BASE_URL = 'https://pixabay.com';\nconst API_KEY = '43329687-8aa5e523ea6ec5a66d8459b66';\n\nexport function fetchImageByQuery(query) {\nconst axiosOptions = {\n    params: {\n        key: API_KEY,\n        q: query,\n        orientation: 'horizontal',\n        safesearch: 'true',\n        image_type: 'photo',\n    },\n};\n\nreturn axios.get(`${BASE_URL}/api/?per_page=15&page=5`, axiosOptions);\n\n};\n","\n\nimport { createGalleryCard } from \"./js/render-functions\";\nimport { fetchImageByQuery } from \"./js/pixabay-api\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst searchForm = document.querySelector('.search-form');\n\nconst gallery = document.querySelector('.gallery');\nconst loaderEl = document.querySelector('.loader');\n\nconst searchFormSubmit = async event => {\n    event.preventDefault();\n    const searchQuery = event.target.elements.user_image.value.trim();\n    if (searchQuery === '') {\n        gallery.innerHTML = '';\n        iziToast.warning({\n            title: 'Caution',\n            message: 'Please enter a search query',\n            position: 'topRight',\n            timeout: 2000,\n        });\n        event.target.reset();\n        return;\n    }\n   try {\n\n    loaderEl.classList.add('is-visible');\n    const { data } = await fetchImageByQuery(searchQuery);\n\n    loaderEl.classList.remove('is-visible');\n\n    if (data.hits.length === 0) {\n                gallery.innerHTML = '';\n                event.target.reset();\n                iziToast.error({\n                        title: 'Error',\n                        message: \"Sorry, there are no images matching your search query. Please try again!\",\n                        position: 'topRight',\n                        maxWidth: '432px',\n                        timeout: 3000,\n                \n                });\n            }\n            else{\n            const imageTemplate = data.hits.map(image => createGalleryCard(image)).join('');\n                gallery.innerHTML = imageTemplate;\n                lightbox.refresh();}\n        }\ncatch(error) {\n    loaderEl.classList.remove('is-visible');\n    iziToast.error({\n        title: 'Error',\n        message: \"Sorry, there are no images matching your search query. Please try again!\",   \n       position: 'topRight',\n       maxWidth: '432px',\n       timeout: 3000,\n})\n        console.log(error);\n}\n};\n\n// let page = 1;\n// let perPage = 10;\nsearchForm.addEventListener('submit', searchFormSubmit);\n\n\nconst lightbox = new SimpleLightbox('.gallery a');\n"],"names":["createGalleryCard","data","largeImageURL","webformatURL","tags","likes","views","comments","downloads","BASE_URL","API_KEY","fetchImageByQuery","query","axiosOptions","axios","searchForm","gallery","loaderEl","searchFormSubmit","event","searchQuery","iziToast","imageTemplate","image","lightbox","error","SimpleLightbox"],"mappings":"owBACO,MAAMA,EAAoBC,GAAQ,CACrC,KAAM,CAAE,cAAAC,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,EAAGP,EACjF,MAAO;AAAA;AAAA,wCAE6BC,CAAa;AAAA,wBAC7BC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,+BAKnBC,CAAK;AAAA;AAAA;AAAA;AAAA,+BAILC,CAAK;AAAA;AAAA;AAAA;AAAA,+BAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,+BAIRC,CAAS;AAAA;AAAA;AAAA,UAIrC,ECxBIC,EAAW,sBACZC,EAAU,qCAET,SAASC,EAAkBC,EAAO,CACzC,MAAMC,EAAe,CACjB,OAAQ,CACJ,IAAKH,EACL,EAAGE,EACH,YAAa,aACb,WAAY,OACZ,WAAY,OACf,CACL,EAEA,OAAOE,EAAM,IAAI,GAAGL,CAAQ,2BAA4BI,CAAY,CAEpE,CCPA,MAAME,EAAa,SAAS,cAAc,cAAc,EAElDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAW,SAAS,cAAc,SAAS,EAE3CC,EAAmB,MAAMC,GAAS,CACpCA,EAAM,eAAc,EACpB,MAAMC,EAAcD,EAAM,OAAO,SAAS,WAAW,MAAM,OAC3D,GAAIC,IAAgB,GAAI,CACpBJ,EAAQ,UAAY,GACpBK,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,8BACT,SAAU,WACV,QAAS,GACrB,CAAS,EACDF,EAAM,OAAO,QACb,MACH,CACF,GAAI,CAEHF,EAAS,UAAU,IAAI,YAAY,EACnC,KAAM,CAAE,KAAAhB,CAAM,EAAG,MAAMU,EAAkBS,CAAW,EAIpD,GAFAH,EAAS,UAAU,OAAO,YAAY,EAElChB,EAAK,KAAK,SAAW,EACbe,EAAQ,UAAY,GACpBG,EAAM,OAAO,QACbE,EAAS,MAAM,CACP,MAAO,QACP,QAAS,2EACT,SAAU,WACV,SAAU,QACV,QAAS,GAEjC,CAAiB,MAED,CACJ,MAAMC,EAAgBrB,EAAK,KAAK,IAAIsB,GAASvB,EAAkBuB,CAAK,CAAC,EAAE,KAAK,EAAE,EAC1EP,EAAQ,UAAYM,EACpBE,EAAS,QAAO,CAAG,CAC1B,OACHC,EAAO,CACTR,EAAS,UAAU,OAAO,YAAY,EACtCI,EAAS,MAAM,CACX,MAAO,QACP,QAAS,2EACV,SAAU,WACV,SAAU,QACV,QAAS,GAChB,CAAC,EACO,QAAQ,IAAII,CAAK,CACzB,CACA,EAIAV,EAAW,iBAAiB,SAAUG,CAAgB,EAGtD,MAAMM,EAAW,IAAIE,EAAe,YAAY"}